<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Anonymous Confessions</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<style>
body { background:#0d0d0d; color:#fff; font-family:Arial; }
.container { display:flex; min-height:100vh; }
.ad { width:15%; background:#111; text-align:center; padding-top:40px; }
.main { width:70%; text-align:center; padding:30px; }
textarea { width:90%; height:200px; background:#111; color:#fff; }
button { padding:10px 25px; margin-top:15px; }
@media(max-width:768px){
.container{flex-direction:column;}
.ad,.main{width:100%;}
}
</style>
</head>

<body>
<div class="container">
<div class="ad">Ad Space</div>

<div class="main">
<h2>Anonymous Confession</h2>
<textarea id="confession"></textarea><br>
<button onclick="send()">Confess Anonymously</button>
<p>Your confession is anonymous, encrypted, and only visible to the admin.</p>
</div>

<div class="ad">Ad Space</div>
</div>

<script>
// ðŸ”¥ Firebase config (replace with yours)
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const SECRET = "ADMIN_SECRET_KEY";

function send() {
  const text = document.getElementById("confession").value;
  if (!text) return alert("Write something");

  const encrypted = CryptoJS.AES.encrypt(text, SECRET).toString();

  db.collection("confessions").add({
    data: encrypted,
    time: new Date()
  });

  document.getElementById("confession").value = "";
  alert("Confession submitted securely");
}
</script>
</body>
</html>
